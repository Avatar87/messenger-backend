<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:54,&quot;tests&quot;:126,&quot;passes&quot;:126,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2019-02-13T17:10:27.753Z&quot;,&quot;end&quot;:&quot;2019-02-13T17:11:51.264Z&quot;,&quot;duration&quot;:83511,&quot;testsRegistered&quot;:126,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false,&quot;passPercentClass&quot;:&quot;success&quot;,&quot;pendingPercentClass&quot;:&quot;danger&quot;},&quot;suites&quot;:{&quot;uuid&quot;:&quot;5097960e-6f4d-48e6-a972-f3a596310c4f&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1858,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;index_1.App.lifecycle.on(\&quot;beforeInit\&quot;, () =&gt; __awaiter(this, void 0, void 0, function* () {\n    const port = yield exports.MongoServer.getPort();\n    const database = yield exports.MongoServer.getDbName();\n    exports.DB.setOptions({ address: \&quot;localhost\&quot;, port, database });\n}));\nindex_1.App.lifecycle.on(\&quot;afterInit\&quot;, () =&gt; {\n    exports.Agent = () =&gt; chai_1.default.request(index_1.App.get(\&quot;server\&quot;).httpServer);\n    exports.Server = index_1.App.get(\&quot;server\&quot;).httpServer;\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:true,&quot;uuid&quot;:&quot;577baaa4-8b7d-46e3-b948-7a54adbf5eb0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2177,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n    data.users = yield faker_1.fakeUsers(AMOUNT_OF_USERS);\n    data.account = data.users.pop();\n    authTokenOfAccount = data.account.createToken();\n})&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:true,&quot;uuid&quot;:&quot;b4cc8cbb-c485-4af2-98eb-3fe6d89be2bd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4666,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n    data.users = yield faker_1.fakeUsers(AMOUNT_OF_USERS);\n    data.mainUser = data.users.pop();\n    data.anotherUser = data.users.pop();\n    data.mainUserBannedAccount = (yield faker_1.fakeBlacklist(1, [data.users.pop()], data.mainUser))[0];\n    data.anotherUserBannedAccount = (yield faker_1.fakeBlacklist(1, [data.users.pop()], data.anotherUser))[0];\n    data.userForManipulations = data.users.pop();\n    authTokenOfAccount = data.mainUser.createToken();\n})&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:true,&quot;uuid&quot;:&quot;ba967bab-aeb8-4eda-b5f9-3ea36e6e0e35&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2185,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n    data.users = yield faker_2.fakeUsers(AMOUNT_OF_USERS);\n    data.mainUser = data.users.pop();\n    data.anotherUser = data.users.pop();\n    data.mainUserContact = (yield faker_2.fakeContacts(1, [data.users.pop()], data.mainUser))[0];\n    data.anotherUserContact = (yield faker_2.fakeContacts(1, [data.users.pop()], data.anotherUser))[0];\n    data.userForManipulations = data.users.pop();\n    authTokenOfAccount = data.mainUser.createToken();\n})&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:true,&quot;uuid&quot;:&quot;65e900b8-1e08-4a1f-9d5e-78809bf0c2dc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2403,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n    data.users = yield faker_1.fakeUsers(AMOUNT_OF_USERS);\n    data.creator = data.users.pop();\n    data.user = data.users.pop();\n    data.groups = yield faker_1.fakeGroups(AMOUNT_OF_GROUPS, [data.creator]);\n    data.group = data.groups.pop();\n    data.directChats = yield faker_1.fakeDirectChats(AMOUNT_OF_CHATS, data.users, data.creator);\n    data.groupChats = yield faker_2.fakeGroupChats(AMOUNT_OF_CHATS, data.groups, data.users, data.creator);\n    data.chat = data.directChats[0];\n    authTokenOfCreator = data.creator.createToken();\n})&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:true,&quot;uuid&quot;:&quot;b3724809-d6c1-4848-8ece-b4ca5f5c3d54&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:389,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n    data.users = yield faker_1.fakeUsers(1);\n    data.user = data.users.pop();\n    authToken = data.user.createToken();\n})&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:true,&quot;uuid&quot;:&quot;274c0828-8c6b-4901-8626-55a7b4fd6ebe&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:790,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n    data.users = yield faker_1.fakeUsers(AMOUNT_OF_USERS);\n    data.creator = data.users.pop();\n    data.user = data.users.pop();\n    data.groups = yield faker_1.fakeGroups(AMOUNT_OF_GROUPS, [data.creator]);\n    yield data.groups.forEach((element) =&gt; {\n        faker_1.fakeGroupMembers(1, element, data.creator);\n    });\n    data.group = data.groups.pop();\n    groupId = data.group._id.toString();\n    authTokenOfCreator = data.creator.createToken();\n    authTokenOfUser = data.user.createToken();\n})&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:true,&quot;uuid&quot;:&quot;ed533bce-f837-418f-904c-dcd730aadc82&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:840,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n    data.users = yield faker_1.fakeUsers(AMOUNT_OF_USERS);\n    data.creator = data.users.pop();\n    data.user = data.users.pop();\n    data.groups = yield faker_1.fakeGroups(AMOUNT_OF_GROUPS, [data.creator]);\n    data.group = data.groups.pop();\n    groupId = data.group._id.toString();\n    authTokenOfCreator = data.creator.createToken();\n    authTokenOfUser = data.user.createToken();\n})&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:true,&quot;uuid&quot;:&quot;20a2756f-5517-4866-a900-2a5c9077568e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10741,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n    data.members = yield faker_1.fakeUsers(20);\n    data.notMembers = yield faker_1.fakeUsers(5);\n    data.creator = data.members[0];\n    data.memberButNotCreator = data.members[1];\n    data.userButNotMember = data.notMembers[1];\n    data.groups = yield faker_1.fakeGroups(1, data.creator);\n    data.group = data.groups[0];\n    data.members.map((item) =&gt; {\n        data.group.addMember(item);\n    });\n    data.countOfMembers = data.members.length;\n    groupId = data.group._id.toString();\n    authTokenOfMemberAndCreator = data.creator.createToken();\n    authTokenOfMemberButNotCreator = data.memberButNotCreator.createToken();\n    authTokenOfUserButNotMember = data.userButNotMember.createToken();\n})&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:true,&quot;uuid&quot;:&quot;8c9282c2-4266-4828-98a2-5408445e3700&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2085,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n    data.users = yield faker_1.fakeUsers(4);\n    data.firstPerson = data.users.pop();\n    data.secondPerson = data.users.pop();\n    data.anoutherPerson = data.users.pop();\n    data.groups = yield faker_1.fakeGroups(2, data.firstPerson);\n    data.group = data.groups[0];\n    data.anotherGroup = data.groups[1];\n    data.messages = yield faker_1.fakeGroupMessages(100, [data.group], [data.firstPerson, data.secondPerson]);\n    data.outherMessages = yield faker_1.fakeGroupMessages(2, [data.anotherGroup], [data.anoutherPerson, data.secondPerson]);\n    groupId = data.group._id.toString();\n    anotherGroupId = data.anotherGroup._id.toString();\n    authTokenOfFirstPerson = data.firstPerson.createToken();\n    authTokenOfSecondPerson = data.secondPerson.createToken();\n    authTokenOfAnOtherUser = data.anoutherPerson.createToken();\n})&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:true,&quot;uuid&quot;:&quot;9c06ebd6-c659-4af3-b558-0e1574f8a529&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2127,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n    data.users = yield faker_1.fakeUsers(4);\n    data.firstPerson = data.users.pop();\n    data.secondPerson = data.users.pop();\n    data.anoutherPerson = data.users.pop();\n    data.messages = yield faker_1.fakeUserConversation(100, [data.firstPerson, data.secondPerson]);\n    data.outherMessages = yield faker_1.fakeUserConversation(2, [data.anoutherPerson, data.secondPerson]);\n    secondPersonId = data.secondPerson._id.toString();\n    authTokenOfFirstPerson = data.firstPerson.createToken();\n    authTokenOfSecondPerson = data.secondPerson.createToken();\n    authTokenOfAnOtherUser = data.anoutherPerson.createToken();\n})&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:true,&quot;uuid&quot;:&quot;1d96c996-14ef-4d5c-9d60-3821648f3e0e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1789,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n    data.users = yield faker_1.fakeUsers(AMOUNT_OF_USERS);\n    data.firstPerson = data.users.pop();\n    data.secondPerson = data.users.pop();\n    firstPersonId = data.firstPerson._id.toString();\n    firstPersonEmail = data.firstPerson.email;\n    authTokenOfFirstPerson = data.firstPerson.createToken();\n    authTokenOfSecondPerson = data.secondPerson.createToken();\n})&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:true,&quot;uuid&quot;:&quot;d1c519b9-9e56-4bd5-8edc-b985f1c5bb15&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:37,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n    yield index_1.App.stop();\n    yield exports.MongoServer.stop();\n})&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:true,&quot;uuid&quot;:&quot;4b418c4b-86ee-4a3a-be86-579a9138e2ed&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;2ad388dd-b561-4bb1-b17b-a0dabf786888&quot;,&quot;title&quot;:&quot;Account API&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Account\\Account.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Account\\Account.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e6bfb251-77e4-45b9-9871-36441bd963f4&quot;,&quot;title&quot;:&quot;GET /account&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Account\\Account.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Account\\Account.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful getting account profile&quot;,&quot;fullTitle&quot;:&quot;Account API GET /account Successful getting account profile&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:35,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/account`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfAccount}`);\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;id\&quot;);\n            res.body.should.have.property(\&quot;email\&quot;);\n            res.body.should.have.property(\&quot;profile\&quot;);\n            res.body.profile.should.have.property(\&quot;username\&quot;);\n            res.body.profile.should.have.property(\&quot;fullname\&quot;);\n            res.body.profile.should.have.property(\&quot;last_seen\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b1a476c2-8c4f-45fc-a0de-c8190df815d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b1a476c2-8c4f-45fc-a0de-c8190df815d9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:35,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;af562073-3304-4432-a49a-3ec845ab8e2c&quot;,&quot;title&quot;:&quot;PUT /account&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Account\\Account.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Account\\Account.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Wrong old password (Credentials are wrong)&quot;,&quot;fullTitle&quot;:&quot;Account API PUT /account Wrong old password (Credentials are wrong)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:502,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().put(`/account`)\n                .send({\n                oldPassword: \&quot;wrongPassword\&quot;,\n                newPassword: \&quot;some password\&quot;,\n            })\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfAccount}`);\n            res.should.have.status(404);\n            res.body.message.should.be.equal(\&quot;Credentials are wrong\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;55f980d3-406d-4262-b2af-72f3c636d502&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Wrong new password (Validation error)&quot;,&quot;fullTitle&quot;:&quot;Account API PUT /account Wrong new password (Validation error)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:491,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().put(`/account`)\n                .send({\n                oldPassword: \&quot;012345678\&quot;,\n                newPassword: \&quot;12345\&quot;,\n            })\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfAccount}`);\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;25a73baa-2c4b-45fc-b8dd-81a02866732d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Successful update accoount&quot;,&quot;fullTitle&quot;:&quot;Account API PUT /account Successful update accoount&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().put(`/account`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfAccount}`);\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;id\&quot;);\n            res.body.should.have.property(\&quot;email\&quot;);\n            res.body.should.have.property(\&quot;profile\&quot;);\n            res.body.profile.should.have.property(\&quot;username\&quot;);\n            res.body.profile.should.have.property(\&quot;fullname\&quot;);\n            res.body.profile.should.have.property(\&quot;last_seen\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f8c3ff46-c2a1-409d-bd22-92e9908440b8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;55f980d3-406d-4262-b2af-72f3c636d502&quot;,&quot;25a73baa-2c4b-45fc-b8dd-81a02866732d&quot;,&quot;f8c3ff46-c2a1-409d-bd22-92e9908440b8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1008,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;a88d9ff6-caf2-4fe5-8eb6-5568ccae4a03&quot;,&quot;title&quot;:&quot;Blacklist API&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Account\\Blacklist.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Account\\Blacklist.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1eedace1-3af0-4478-a64a-888e7cc504e5&quot;,&quot;title&quot;:&quot;Get blacklist GET /account/blacklist&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Account\\Blacklist.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Account\\Blacklist.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful getting contacts&quot;,&quot;fullTitle&quot;:&quot;Blacklist API Get blacklist GET /account/blacklist Successful getting contacts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:27,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/account/blacklist`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfAccount}`);\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;user\&quot;);\n            res.body.should.have.property(\&quot;offset\&quot;);\n            res.body.should.have.property(\&quot;data\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;fb8c674a-2b9f-46dc-8cdc-d6ba90569c17&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fb8c674a-2b9f-46dc-8cdc-d6ba90569c17&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:27,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;79d4f23b-e19d-4784-85e1-91a5a8cca2fd&quot;,&quot;title&quot;:&quot;Post new user to blacklist POST /account/blacklist&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Account\\Blacklist.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Account\\Blacklist.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful posting contact&quot;,&quot;fullTitle&quot;:&quot;Blacklist API Post new user to blacklist POST /account/blacklist Successful posting contact&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:26,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().post(`/account/blacklist/`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfAccount}`)\n                .send({ id: data.userForManipulations._id });\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;id\&quot;);\n            res.body.should.have.property(\&quot;addedAt\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ea7827cb-d6e2-4d42-9e30-bac2557537fd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Successful posting same account&quot;,&quot;fullTitle&quot;:&quot;Blacklist API Post new user to blacklist POST /account/blacklist Successful posting same account&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().post(`/account/blacklist/`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfAccount}`)\n                .send({ id: data.userForManipulations._id });\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;id\&quot;);\n            res.body.should.have.property(\&quot;addedAt\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c1b52840-4b83-45ba-b1fa-a026dea87ccf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of posting account - property id is required&quot;,&quot;fullTitle&quot;:&quot;Blacklist API Post new user to blacklist POST /account/blacklist Error of posting account - property id is required&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().post(`/account/contacts/`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfAccount}`);\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5a2f4b19-30ca-4f03-97aa-3544d646cf1a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ea7827cb-d6e2-4d42-9e30-bac2557537fd&quot;,&quot;c1b52840-4b83-45ba-b1fa-a026dea87ccf&quot;,&quot;5a2f4b19-30ca-4f03-97aa-3544d646cf1a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:61,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;2e8563df-a6c7-4dde-8e8f-71da92a98758&quot;,&quot;title&quot;:&quot;Delete account from blacklist DELETE /account/blacklist/%id&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Account\\Blacklist.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Account\\Blacklist.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful deleting contact&quot;,&quot;fullTitle&quot;:&quot;Blacklist API Delete account from blacklist DELETE /account/blacklist/%id Successful deleting contact&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().delete(`/account/blacklist/${data.mainUserBannedAccount._id}`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfAccount}`);\n            res.should.have.status(200);\n            res.body.message.should.be.equal(\&quot;successfully\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;51c3b20d-eb74-4c31-b818-8cabb116a187&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Successful result of deleting wrong contact&quot;,&quot;fullTitle&quot;:&quot;Blacklist API Delete account from blacklist DELETE /account/blacklist/%id Successful result of deleting wrong contact&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().delete(`/account/blacklist/${data.anotherUserBannedAccount._id}`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfAccount}`);\n            res.should.have.status(200);\n            res.body.message.should.be.equal(\&quot;successfully\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;997513a7-1e45-4d6c-8fb3-27dcbb4402b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;51c3b20d-eb74-4c31-b818-8cabb116a187&quot;,&quot;997513a7-1e45-4d6c-8fb3-27dcbb4402b4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:44,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;0761281b-717f-4bd2-b873-e5a541830575&quot;,&quot;title&quot;:&quot;Contacts API&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Account\\Contacts.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Account\\Contacts.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;18b88909-e345-40a0-bfaa-faa3bcc20bcd&quot;,&quot;title&quot;:&quot;Get contacts GET /account/contacts&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Account\\Contacts.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Account\\Contacts.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful getting contacts&quot;,&quot;fullTitle&quot;:&quot;Contacts API Get contacts GET /account/contacts Successful getting contacts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:28,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/account/contacts`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfAccount}`);\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;user\&quot;);\n            res.body.should.have.property(\&quot;offset\&quot;);\n            res.body.should.have.property(\&quot;data\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f93e7b94-7957-494a-9aa3-b5031c4cbd97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f93e7b94-7957-494a-9aa3-b5031c4cbd97&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:28,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;78f1527f-ab60-4305-aa03-ffb99e6aa47c&quot;,&quot;title&quot;:&quot;Get contact by id GET /account/contacts/%id&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Account\\Contacts.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Account\\Contacts.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful getting contact&quot;,&quot;fullTitle&quot;:&quot;Contacts API Get contact by id GET /account/contacts/%id Successful getting contact&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:27,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/account/contacts/${data.mainUserContact._id}`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfAccount}`);\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;id\&quot;);\n            res.body.should.have.property(\&quot;contact\&quot;);\n            res.body.should.have.property(\&quot;byname\&quot;);\n            res.body.should.have.property(\&quot;addedAt\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;81223909-38b9-4149-89e1-a21131e376d5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of getting contact - contact with such id is not exist&quot;,&quot;fullTitle&quot;:&quot;Contacts API Get contact by id GET /account/contacts/%id Error of getting contact - contact with such id is not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/account/contacts/${data.anotherUserContact._id}`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfAccount}`);\n            res.should.have.status(404);\n            res.body.message.should.be.equal(\&quot;Contact with such id was not found\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6f99f5a4-4306-4b1d-89da-e100609271c6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;81223909-38b9-4149-89e1-a21131e376d5&quot;,&quot;6f99f5a4-4306-4b1d-89da-e100609271c6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:46,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;a2127186-3efe-46d3-9459-514fc657d478&quot;,&quot;title&quot;:&quot;Post new contact POST /account/contacts&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Account\\Contacts.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Account\\Contacts.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful posting contact&quot;,&quot;fullTitle&quot;:&quot;Contacts API Post new contact POST /account/contacts Successful posting contact&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().post(`/account/contacts/`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfAccount}`)\n                .send({ user: data.userForManipulations._id, byname });\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;id\&quot;);\n            res.body.should.have.property(\&quot;contact\&quot;);\n            res.body.should.have.property(\&quot;byname\&quot;).equal(byname);\n            res.body.should.have.property(\&quot;addedAt\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c3b1bc92-ff6e-48cc-b335-204bea62c31f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Successful posting same contact - property byname is not sent&quot;,&quot;fullTitle&quot;:&quot;Contacts API Post new contact POST /account/contacts Successful posting same contact - property byname is not sent&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().post(`/account/contacts/`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfAccount}`)\n                .send({ user: data.userForManipulations._id });\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;id\&quot;);\n            res.body.should.have.property(\&quot;contact\&quot;);\n            res.body.should.have.property(\&quot;byname\&quot;).equal(null);\n            res.body.should.have.property(\&quot;addedAt\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;266fb6a1-b70f-4289-b9d8-8cd93c4ac56a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of posting account - property user is required&quot;,&quot;fullTitle&quot;:&quot;Contacts API Post new contact POST /account/contacts Error of posting account - property user is required&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().post(`/account/contacts/`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfAccount}`)\n                .send({ byname });\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;14968e0e-2a5d-4653-b6e2-23cbd6601fd1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of posting account - the user property is uncorrect&quot;,&quot;fullTitle&quot;:&quot;Contacts API Post new contact POST /account/contacts Error of posting account - the user property is uncorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:44962,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().post(`/account/contacts/`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfAccount}`)\n                .send({ user: undefined });\n            console.log(\&quot;Console Test the user property is uncorrect:\&quot; + res.body.message);\n            process.emitWarning(\&quot;Emit Test the user property is uncorrect:\&quot; + res.body.message);\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;88273390-a5b4-4986-a5c0-723791626d2b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c3b1bc92-ff6e-48cc-b335-204bea62c31f&quot;,&quot;266fb6a1-b70f-4289-b9d8-8cd93c4ac56a&quot;,&quot;14968e0e-2a5d-4653-b6e2-23cbd6601fd1&quot;,&quot;88273390-a5b4-4986-a5c0-723791626d2b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:45009,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;e31e6e4e-0547-4524-a8d7-5a55c5f0cceb&quot;,&quot;title&quot;:&quot;Put contact byname PUT /account/contacts/%id&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Account\\Contacts.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Account\\Contacts.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful setting byname to contact&quot;,&quot;fullTitle&quot;:&quot;Contacts API Put contact byname PUT /account/contacts/%id Successful setting byname to contact&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:29,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const newName = faker_1.default.lorem.text();\n            const res = yield Bootstrap_1.Agent().put(`/account/contacts/${data.mainUserContact._id}`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfAccount}`)\n                .send({ byname: newName });\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;id\&quot;);\n            res.body.should.have.property(\&quot;contact\&quot;);\n            res.body.should.have.property(\&quot;byname\&quot;);\n            res.body.should.have.property(\&quot;addedAt\&quot;);\n            res.body.byname.should.be.equal(newName);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3f176781-ca80-47a7-9dbf-8935f1d56e42&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error with setting byname to contact - contact with such id is not exist&quot;,&quot;fullTitle&quot;:&quot;Contacts API Put contact byname PUT /account/contacts/%id Error with setting byname to contact - contact with such id is not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().put(`/account/contacts/${data.anotherUserContact._id}`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfAccount}`)\n                .send({ byname: faker_1.default.lorem.text() });\n            res.should.have.status(404);\n            res.body.message.should.be.equal(\&quot;Contact with such id was not found\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;af39cfd9-fe4b-4bc3-afc8-40faa5e83404&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error with setting byname to contact - property byname is required&quot;,&quot;fullTitle&quot;:&quot;Contacts API Put contact byname PUT /account/contacts/%id Error with setting byname to contact - property byname is required&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().put(`/account/contacts/${data.mainUserContact._id}`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfAccount}`);\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;738b1ce3-591a-4245-a2a8-6a1f7a0f3ad0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3f176781-ca80-47a7-9dbf-8935f1d56e42&quot;,&quot;af39cfd9-fe4b-4bc3-afc8-40faa5e83404&quot;,&quot;738b1ce3-591a-4245-a2a8-6a1f7a0f3ad0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:57,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;e2af21da-d806-4ac1-adb6-8dd77289f56b&quot;,&quot;title&quot;:&quot;Delete contact DELETE /account/contacts/%id&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Account\\Contacts.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Account\\Contacts.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful deleting contact&quot;,&quot;fullTitle&quot;:&quot;Contacts API Delete contact DELETE /account/contacts/%id Successful deleting contact&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().delete(`/account/contacts/${data.mainUserContact._id}`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfAccount}`);\n            res.should.have.status(200);\n            res.body.message.should.be.equal(\&quot;successfully\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d174a400-c2b0-4db1-91ff-18f54aed9cbb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Successful result of deleting wrong contact&quot;,&quot;fullTitle&quot;:&quot;Contacts API Delete contact DELETE /account/contacts/%id Successful result of deleting wrong contact&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().delete(`/account/contacts/${data.anotherUserContact._id}`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfAccount}`);\n            res.should.have.status(200);\n            res.body.message.should.be.equal(\&quot;successfully\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c021b254-3cc1-4e3f-8d6b-a3e71ec72d4d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d174a400-c2b0-4db1-91ff-18f54aed9cbb&quot;,&quot;c021b254-3cc1-4e3f-8d6b-a3e71ec72d4d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:21,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;ced61a80-f953-4f56-9f41-9b9b87e1c29f&quot;,&quot;title&quot;:&quot;Auth API&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Auth.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Auth.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;0acf5896-ffc0-47f8-bcdd-efe46621f24b&quot;,&quot;title&quot;:&quot;POST: /auth/login&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Auth.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Auth.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful login&quot;,&quot;fullTitle&quot;:&quot;Auth API POST: /auth/login Successful login&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:934,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const name = \&quot;Tester\&quot;;\n            const email = Math.random() + \&quot;tester@com.ru\&quot;;\n            const password = \&quot;012345678\&quot;;\n            const user = yield Bootstrap_1.DB.getModel(\&quot;User\&quot;).registration(email, password, name);\n            const res = yield Bootstrap_1.Agent().post(\&quot;/auth/login\&quot;).send({ email, password });\n            res.should.have.status(200);\n            const loginedUser = yield Bootstrap_1.DB.getModel(\&quot;User\&quot;).findByToken(res.body.token);\n            loginedUser.id.should.be.equal(user.id);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;388c6ef6-d43a-4ce2-9f14-52d55a2ce299&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Login error because password is wrong&quot;,&quot;fullTitle&quot;:&quot;Auth API POST: /auth/login Login error because password is wrong&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1009,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const name = \&quot;Tester\&quot;;\n            const email = Math.random() + \&quot;tester@com.ru\&quot;;\n            const password = \&quot;012345678\&quot;;\n            const anotherPassword = \&quot;abcdefgh\&quot;;\n            yield Bootstrap_1.DB.getModel(\&quot;User\&quot;).registration(email, password, name);\n            const res = yield Bootstrap_1.Agent().post(\&quot;/auth/login\&quot;).send({ email, password: anotherPassword });\n            res.should.have.status(404);\n            res.body.message.should.be.equal(\&quot;Credentials are wrong\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0dc86cb9-4c9e-4a32-83d4-452467c85f17&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Login error because email does not exist&quot;,&quot;fullTitle&quot;:&quot;Auth API POST: /auth/login Login error because email does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const email = Math.random() + \&quot;tester@com.ru\&quot;;\n            const password = \&quot;012345678\&quot;;\n            const res = yield Bootstrap_1.Agent().post(\&quot;/auth/login\&quot;).send({ email, password });\n            res.should.have.status(404);\n            res.body.message.should.be.equal(\&quot;Credentials are wrong\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b2c8a615-1fd7-4609-96d6-a931c36b8dd5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;388c6ef6-d43a-4ce2-9f14-52d55a2ce299&quot;,&quot;0dc86cb9-4c9e-4a32-83d4-452467c85f17&quot;,&quot;b2c8a615-1fd7-4609-96d6-a931c36b8dd5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1951,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;4c9bffb1-3cdd-4a9d-b86c-3853a31e99ce&quot;,&quot;title&quot;:&quot;POST: /auth/registration&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Auth.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Auth.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful registration&quot;,&quot;fullTitle&quot;:&quot;Auth API POST: /auth/registration Successful registration&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:430,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const name = \&quot;Tester\&quot;;\n            const email = Math.random() + \&quot;tester@com.ru\&quot;;\n            const password = \&quot;012345678\&quot;;\n            const res = yield Bootstrap_1.Agent().post(\&quot;/auth/registration\&quot;).send({ name, email, password });\n            res.should.have.status(201);\n            const registeredUser = yield Bootstrap_1.DB.getModel(\&quot;User\&quot;).findByToken(res.body.token);\n            registeredUser.id.should.be.equal(res.body.user.id);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;dbb71730-9aba-4dd4-81ae-7f09c2ec028f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Registration error because email has already existed&quot;,&quot;fullTitle&quot;:&quot;Auth API POST: /auth/registration Registration error because email has already existed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:434,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const name = \&quot;Tester\&quot;;\n            const email = Math.random() + \&quot;tester@com.ru\&quot;;\n            const password = \&quot;012345678\&quot;;\n            yield Bootstrap_1.Agent().post(\&quot;/auth/registration\&quot;).send({ name, email, password });\n            const res = yield Bootstrap_1.Agent().post(\&quot;/auth/registration\&quot;).send({ name, email, password });\n            res.should.have.status(409);\n            res.body.message.should.be.equal(\&quot;This email has already existed\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5d991267-3a05-4a54-9c06-c27bbfa81370&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Registration error because you have not sent required fields&quot;,&quot;fullTitle&quot;:&quot;Auth API POST: /auth/registration Registration error because you have not sent required fields&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().post(\&quot;/auth/registration\&quot;).send();\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;cd3684cf-508b-4c71-a7bf-31dd6ff2abd4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;dbb71730-9aba-4dd4-81ae-7f09c2ec028f&quot;,&quot;5d991267-3a05-4a54-9c06-c27bbfa81370&quot;,&quot;cd3684cf-508b-4c71-a7bf-31dd6ff2abd4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:870,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;edc4a564-aaef-44a9-a8e0-bc279ba0c830&quot;,&quot;title&quot;:&quot;Chat API&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Chat.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Chat.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;f28865fd-5d96-4428-8dd7-e4fba4e29978&quot;,&quot;title&quot;:&quot;GET: /account/chats&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Chat.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Chat.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successfull&quot;,&quot;fullTitle&quot;:&quot;Chat API GET: /account/chats Successfull&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/account/chats`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfCreator}`);\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;offset\&quot;);\n            res.body.should.have.property(\&quot;data\&quot;);\n            res.body.offset.should.be.equal(0);\n            res.body.data.should.have.lengthOf(4);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f109b992-4a73-4389-812b-d7cab1119f36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Successfull with offset&quot;,&quot;fullTitle&quot;:&quot;Chat API GET: /account/chats Successfull with offset&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/account/chats?offset=2`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfCreator}`);\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;offset\&quot;);\n            res.body.should.have.property(\&quot;data\&quot;);\n            res.body.offset.should.be.equal(2);\n            res.body.data.should.have.lengthOf(2);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;15b12901-b049-402c-bf3c-da0ecd3ae354&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f109b992-4a73-4389-812b-d7cab1119f36&quot;,&quot;15b12901-b049-402c-bf3c-da0ecd3ae354&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:25,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;a17a55d0-9cb8-4d6e-8461-37c04e8e4248&quot;,&quot;title&quot;:&quot;DELETE: /account/chats/:chatId&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Chat.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Chat.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successfull&quot;,&quot;fullTitle&quot;:&quot;Chat API DELETE: /account/chats/:chatId Successfull&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().delete(`/account/chats/${data.chat._id}`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfCreator}`);\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;message\&quot;);\n            res.body.message.should.be.equal(\&quot;successfully\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;faaa120a-2e64-42c8-9a6c-1a01024044e2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;faaa120a-2e64-42c8-9a6c-1a01024044e2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;46e15f27-34bc-42e9-af32-0c23c77eb031&quot;,&quot;title&quot;:&quot;Find by token Middleware&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\FindByToken.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\FindByToken.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;No token&quot;,&quot;fullTitle&quot;:&quot;Find by token Middleware No token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        const res = yield Bootstrap_1.Agent().get(`/anyRoute`);\n        res.should.have.status(401);\n        res.body.message.should.be.equal(\&quot;No valid token\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c3786be9-a543-4834-8129-4abd79bc0455&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error token&quot;,&quot;fullTitle&quot;:&quot;Find by token Middleware Error token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        const res = yield Bootstrap_1.Agent().get(`/anyRoute`)\n            .set(\&quot;Authorization\&quot;, `wrongToken`);\n        res.should.have.status(401);\n        res.body.message.should.be.equal(\&quot;No valid token\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c28e8aa3-3fb7-41c3-ba7d-242a2cd8802b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Right token, error header&quot;,&quot;fullTitle&quot;:&quot;Find by token Middleware Right token, error header&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        const res = yield Bootstrap_1.Agent().get(`/anyRoute`)\n            .set(\&quot;Authorization\&quot;, `${authToken}`);\n        res.should.have.status(401);\n        res.body.message.should.be.equal(\&quot;No valid token\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3d1e6ed8-dea0-4169-a7aa-d861cbf09589&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c3786be9-a543-4834-8129-4abd79bc0455&quot;,&quot;c28e8aa3-3fb7-41c3-ba7d-242a2cd8802b&quot;,&quot;3d1e6ed8-dea0-4169-a7aa-d861cbf09589&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;dff7c19c-292d-493a-ab92-a03cbf503e5d&quot;,&quot;title&quot;:&quot;Groups API&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Groups\\Group.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Groups\\Group.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3dabfdba-f2fe-4bc9-ad35-3807e0909044&quot;,&quot;title&quot;:&quot;GET /groups/:groupId&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Groups\\Group.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Groups\\Group.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful getting group profile for a member&quot;,&quot;fullTitle&quot;:&quot;Groups API GET /groups/:groupId Successful getting group profile for a member&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/groups/${groupId}`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfCreator}`);\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;id\&quot;);\n            res.body.should.have.property(\&quot;creator\&quot;);\n            res.body.should.have.property(\&quot;name\&quot;);\n            res.body.should.have.property(\&quot;description\&quot;);\n            res.body.should.have.property(\&quot;invitation_code\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d652595c-b4aa-4122-b48f-e3036ea65a23&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Successful getting group profile with invitation code&quot;,&quot;fullTitle&quot;:&quot;Groups API GET /groups/:groupId Successful getting group profile with invitation code&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/groups/${groupId}?invitation_code=inviteGoodPeople`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfCreator}`);\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;id\&quot;);\n            res.body.should.have.property(\&quot;creator\&quot;);\n            res.body.should.have.property(\&quot;name\&quot;);\n            res.body.should.have.property(\&quot;description\&quot;);\n            res.body.should.have.property(\&quot;invitation_code\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a94da4ff-99fd-468d-a189-8cedd0a57258&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Not a member, no invitation code&quot;,&quot;fullTitle&quot;:&quot;Groups API GET /groups/:groupId Not a member, no invitation code&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/groups/${groupId}`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfUser}`);\n            res.should.have.status(403);\n            res.body.message.should.be.equal(\&quot;You cannot do it\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;2237c2e1-b804-4053-a4b3-ac44b50a2717&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d652595c-b4aa-4122-b48f-e3036ea65a23&quot;,&quot;a94da4ff-99fd-468d-a189-8cedd0a57258&quot;,&quot;2237c2e1-b804-4053-a4b3-ac44b50a2717&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:38,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;bc268983-8aa5-47a1-849b-929103490591&quot;,&quot;title&quot;:&quot;POST /groups&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Groups\\Group.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Groups\\Group.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful creating&quot;,&quot;fullTitle&quot;:&quot;Groups API POST /groups Successful creating&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().post(`/groups`)\n                .send({\n                name: \&quot;created group\&quot;,\n            })\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfCreator}`);\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;id\&quot;);\n            res.body.should.have.property(\&quot;creator\&quot;);\n            res.body.should.have.property(\&quot;name\&quot;);\n            res.body.should.have.property(\&quot;description\&quot;);\n            res.body.should.have.property(\&quot;invitation_code\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;54651f41-e3d7-47f6-b779-9a6d54fe0eb4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;No name for group&quot;,&quot;fullTitle&quot;:&quot;Groups API POST /groups No name for group&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().post(`/groups`)\n                .send({\n                description: \&quot;created group\&quot;,\n            })\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfCreator}`);\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d83dbf88-7b0f-4508-8810-20f44ec8d826&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;54651f41-e3d7-47f6-b779-9a6d54fe0eb4&quot;,&quot;d83dbf88-7b0f-4508-8810-20f44ec8d826&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:27,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;46982527-086a-42bd-942a-4c5b406b8b15&quot;,&quot;title&quot;:&quot;PUT /groups/:groupId&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Groups\\Group.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Groups\\Group.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful updating group&quot;,&quot;fullTitle&quot;:&quot;Groups API PUT /groups/:groupId Successful updating group&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().put(`/groups/${groupId}`)\n                .send({\n                description: \&quot;updated description\&quot;,\n            })\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfCreator}`);\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;id\&quot;);\n            res.body.should.have.property(\&quot;creator\&quot;);\n            res.body.should.have.property(\&quot;name\&quot;);\n            res.body.should.have.property(\&quot;description\&quot;);\n            res.body.should.have.property(\&quot;invitation_code\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e50f7c09-1e86-4934-ab61-6ba72ebfd1fa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Not creator&quot;,&quot;fullTitle&quot;:&quot;Groups API PUT /groups/:groupId Not creator&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().put(`/groups/${groupId}`)\n                .send({\n                description: \&quot;not in group\&quot;,\n            })\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfUser}`);\n            res.should.have.status(403);\n            res.body.message.should.be.equal(\&quot;You cannot do it\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;17136f7a-5a9c-4bcf-9aae-fadb1953fc94&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e50f7c09-1e86-4934-ab61-6ba72ebfd1fa&quot;,&quot;17136f7a-5a9c-4bcf-9aae-fadb1953fc94&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:40,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;3560d992-430e-490b-93dc-581ce40813e7&quot;,&quot;title&quot;:&quot;UNLINK /groups/:groupId&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Groups\\Group.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Groups\\Group.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Success remove&quot;,&quot;fullTitle&quot;:&quot;Groups API UNLINK /groups/:groupId Success remove&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().unlink(`/groups/${groupId}`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfCreator}`);\n            res.should.have.status(200);\n            res.body.message.should.be.equal(\&quot;successfully\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;441e5ff5-bfc0-4732-83cb-d4642d9e3552&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;441e5ff5-bfc0-4732-83cb-d4642d9e3552&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:19,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;6caa121b-43b2-4d47-b07a-8b79958d4fad&quot;,&quot;title&quot;:&quot;LINK /groups&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Groups\\Group.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Groups\\Group.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successfull enter the group&quot;,&quot;fullTitle&quot;:&quot;Groups API LINK /groups Successfull enter the group&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:29,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().link(`/groups?invitation_code=inviteGoodPeople`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfUser}`);\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;id\&quot;);\n            res.body.should.have.property(\&quot;creator\&quot;);\n            res.body.should.have.property(\&quot;name\&quot;);\n            res.body.should.have.property(\&quot;description\&quot;);\n            res.body.should.have.property(\&quot;invitation_code\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1159cab8-6969-45f6-b10d-09ddf7d0bf22&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Wrong invitation code&quot;,&quot;fullTitle&quot;:&quot;Groups API LINK /groups Wrong invitation code&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().link(`/groups?invitation_code=someWrongCode`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfUser}`);\n            res.should.have.status(404);\n            res.body.message.should.be.equal(\&quot;Credentials are wrong\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e1d9c622-eb11-4cd4-b68c-552778a7d700&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1159cab8-6969-45f6-b10d-09ddf7d0bf22&quot;,&quot;e1d9c622-eb11-4cd4-b68c-552778a7d700&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:44,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;23dec65c-f7d2-484c-a4df-53891c7b9493&quot;,&quot;title&quot;:&quot;Group invites API&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Groups\\GroupInvites.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Groups\\GroupInvites.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;fadaa723-06c2-446d-81d1-13af40c8decd&quot;,&quot;title&quot;:&quot;Get invitation code GET /groups/%id/invites&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Groups\\GroupInvites.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Groups\\GroupInvites.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;No token&quot;,&quot;fullTitle&quot;:&quot;Group invites API Get invitation code GET /groups/%id/invites No token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/groups/${groupId}/invites`);\n            res.should.have.status(401);\n            res.body.message.should.be.equal(\&quot;No valid token\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e766ca2c-1620-4d83-8377-6a40627b2c04&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error token&quot;,&quot;fullTitle&quot;:&quot;Group invites API Get invitation code GET /groups/%id/invites Error token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/groups/${groupId}/invites`)\n                .set(\&quot;Authorization\&quot;, `wrongToken`);\n            res.should.have.status(401);\n            res.body.message.should.be.equal(\&quot;No valid token\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a1cceebd-4b5b-426e-b1ad-31fa1caa18bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Not creator&quot;,&quot;fullTitle&quot;:&quot;Group invites API Get invitation code GET /groups/%id/invites Not creator&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/groups/${groupId}/invites`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfUser}`);\n            res.should.have.status(403);\n            res.body.message.should.be.equal(\&quot;You cannot do it\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7e36f37f-2cd8-47f0-a875-6a133e526cf8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Successful getting group profile&quot;,&quot;fullTitle&quot;:&quot;Group invites API Get invitation code GET /groups/%id/invites Successful getting group profile&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/groups/${groupId}/invites`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfCreator}`);\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;active\&quot;);\n            res.body.should.have.property(\&quot;invitation_code\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;aaa8f3ab-8f5d-47e1-b7af-c307a18ab9cf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e766ca2c-1620-4d83-8377-6a40627b2c04&quot;,&quot;a1cceebd-4b5b-426e-b1ad-31fa1caa18bc&quot;,&quot;7e36f37f-2cd8-47f0-a875-6a133e526cf8&quot;,&quot;aaa8f3ab-8f5d-47e1-b7af-c307a18ab9cf&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:46,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;67cb497a-010b-4b71-a0a7-0d9f3cd0f4b6&quot;,&quot;title&quot;:&quot;Create invitation code POST /groups/%id/invites&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Groups\\GroupInvites.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Groups\\GroupInvites.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;No token&quot;,&quot;fullTitle&quot;:&quot;Group invites API Create invitation code POST /groups/%id/invites No token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().post(`/groups/${groupId}/invites`);\n            res.should.have.status(401);\n            res.body.message.should.be.equal(\&quot;No valid token\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f457824f-a9c4-4a5e-ab1e-74e6c0da31cc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error token&quot;,&quot;fullTitle&quot;:&quot;Group invites API Create invitation code POST /groups/%id/invites Error token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().post(`/groups/${groupId}/invites`)\n                .set(\&quot;Authorization\&quot;, `wrongToken`);\n            res.should.have.status(401);\n            res.body.message.should.be.equal(\&quot;No valid token\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a46dee21-576a-4d52-b42c-2374c8fb3097&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Not creator&quot;,&quot;fullTitle&quot;:&quot;Group invites API Create invitation code POST /groups/%id/invites Not creator&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().post(`/groups/${groupId}/invites`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfUser}`);\n            res.should.have.status(403);\n            res.body.message.should.be.equal(\&quot;You cannot do it\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;fad82418-dd5a-449a-a354-0fe4c9c9cc50&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Successful creating&quot;,&quot;fullTitle&quot;:&quot;Group invites API Create invitation code POST /groups/%id/invites Successful creating&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().post(`/groups/${groupId}/invites`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfCreator}`);\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;active\&quot;);\n            res.body.should.have.property(\&quot;invitation_code\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ea741b33-675e-416d-8a0d-e35b52c7654f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f457824f-a9c4-4a5e-ab1e-74e6c0da31cc&quot;,&quot;a46dee21-576a-4d52-b42c-2374c8fb3097&quot;,&quot;fad82418-dd5a-449a-a354-0fe4c9c9cc50&quot;,&quot;ea741b33-675e-416d-8a0d-e35b52c7654f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:57,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;3d6bfe13-6192-488f-b77e-b58f83d8d8fd&quot;,&quot;title&quot;:&quot;Delete invitation code DELETE /groups/%id/invites&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Groups\\GroupInvites.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Groups\\GroupInvites.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;No token&quot;,&quot;fullTitle&quot;:&quot;Group invites API Delete invitation code DELETE /groups/%id/invites No token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().delete(`/groups/${groupId}/invites`);\n            res.should.have.status(401);\n            res.body.message.should.be.equal(\&quot;No valid token\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0a74d492-be03-452e-adcb-dc5014b827ad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error token&quot;,&quot;fullTitle&quot;:&quot;Group invites API Delete invitation code DELETE /groups/%id/invites Error token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().delete(`/groups/${groupId}/invites`)\n                .set(\&quot;Authorization\&quot;, `wrongToken`);\n            res.should.have.status(401);\n            res.body.message.should.be.equal(\&quot;No valid token\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;bf955740-ff62-4806-b380-bea7062f6f3e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Not creator&quot;,&quot;fullTitle&quot;:&quot;Group invites API Delete invitation code DELETE /groups/%id/invites Not creator&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().delete(`/groups/${groupId}/invites`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfUser}`);\n            res.should.have.status(403);\n            res.body.message.should.be.equal(\&quot;You cannot do it\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d2058154-a741-4a01-ba3d-e09a509b1348&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Successful updating group&quot;,&quot;fullTitle&quot;:&quot;Group invites API Delete invitation code DELETE /groups/%id/invites Successful updating group&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().delete(`/groups/${groupId}/invites`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfCreator}`);\n            res.should.have.status(200);\n            res.body.message.should.be.equal(\&quot;successfully\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a04952a2-10c7-4297-a019-8beffe26df07&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0a74d492-be03-452e-adcb-dc5014b827ad&quot;,&quot;bf955740-ff62-4806-b380-bea7062f6f3e&quot;,&quot;d2058154-a741-4a01-ba3d-e09a509b1348&quot;,&quot;a04952a2-10c7-4297-a019-8beffe26df07&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:54,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;9072c3db-a362-4eb9-9529-144074822c64&quot;,&quot;title&quot;:&quot;Group member API&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Groups\\Member.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Groups\\Member.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;75cb9fe9-4a35-4e65-8dac-271b44d03401&quot;,&quot;title&quot;:&quot;GET: /groups/:groupId/members&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Groups\\Member.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Groups\\Member.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful getting members of group&quot;,&quot;fullTitle&quot;:&quot;Group member API GET: /groups/:groupId/members Successful getting members of group&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:48,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/groups/${groupId}/members`)\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfMemberButNotCreator);\n            res.should.have.status(200);\n            res.body.group_id.should.be.equal(groupId);\n            res.body.offset.should.be.equal(0);\n            res.body.data.should.have.lengthOf(data.countOfMembers);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8150c087-8f6f-4aea-a8bc-e8a0750d5b9d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Successful getting members of group  - use offset&quot;,&quot;fullTitle&quot;:&quot;Group member API GET: /groups/:groupId/members Successful getting members of group  - use offset&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:39,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const offset = 10;\n            const res = yield Bootstrap_1.Agent().get(`/groups/${groupId}/members`)\n                .query({ offset })\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfMemberButNotCreator);\n            res.should.have.status(200);\n            res.body.group_id.should.be.equal(groupId);\n            res.body.offset.should.be.equal(offset);\n            res.body.data.should.have.lengthOf(data.countOfMembers - offset);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d07840e2-2789-4588-87a7-7d2b9ac66719&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of getting group members - group is not exist&quot;,&quot;fullTitle&quot;:&quot;Group member API GET: /groups/:groupId/members Error of getting group members - group is not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(\&quot;/groups/groupNotExist/members\&quot;)\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfMemberButNotCreator);\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;09e5c0f7-8e36-48ac-817d-c535516d85ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of getting group members - group is exist, but auth user is not member&quot;,&quot;fullTitle&quot;:&quot;Group member API GET: /groups/:groupId/members Error of getting group members - group is exist, but auth user is not member&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/groups/${groupId}/members`)\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfUserButNotMember);\n            res.should.have.status(404);\n            res.body.message.should.be.equal(\&quot;This group not found or not allowed for you\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8dc995bd-79d9-4357-a451-d78fcdb982a9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8150c087-8f6f-4aea-a8bc-e8a0750d5b9d&quot;,&quot;d07840e2-2789-4588-87a7-7d2b9ac66719&quot;,&quot;09e5c0f7-8e36-48ac-817d-c535516d85ec&quot;,&quot;8dc995bd-79d9-4357-a451-d78fcdb982a9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:128,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;437dc342-70af-409f-b397-11d2d5f3fdf8&quot;,&quot;title&quot;:&quot;POST: /groups/:groupId/members&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Groups\\Member.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Groups\\Member.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful adding user to group&quot;,&quot;fullTitle&quot;:&quot;Group member API POST: /groups/:groupId/members Successful adding user to group&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:31,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const user = data.notMembers.pop()._id;\n            const res = yield Bootstrap_1.Agent().post(`/groups/${groupId}/members`)\n                .send({ user })\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfMemberButNotCreator);\n            res.should.have.status(200);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;afeb503f-dccc-4a46-9c8c-d8c94569afa2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Successful adding member to group although member has already been added&quot;,&quot;fullTitle&quot;:&quot;Group member API POST: /groups/:groupId/members Successful adding member to group although member has already been added&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:29,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const user = data.members[2]._id;\n            const res = yield Bootstrap_1.Agent().post(`/groups/${groupId}/members`)\n                .send({ user })\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfMemberButNotCreator);\n            res.should.have.status(200);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;aaae40f0-b9ce-497d-adaf-5ee2264ad93c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of adding member to group - group is not exist&quot;,&quot;fullTitle&quot;:&quot;Group member API POST: /groups/:groupId/members Error of adding member to group - group is not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const user = data.members[2]._id;\n            const res = yield Bootstrap_1.Agent().post(\&quot;/groups/groupNotExist/members\&quot;)\n                .send({ user })\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfMemberButNotCreator);\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;cb63910c-87aa-4113-aeb3-79c7f51823cb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of adding member to group - user is not exist&quot;,&quot;fullTitle&quot;:&quot;Group member API POST: /groups/:groupId/members Error of adding member to group - user is not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const user = \&quot;userIsNotExist\&quot;;\n            const res = yield Bootstrap_1.Agent().post(`/groups/${groupId}/members`)\n                .send({ user })\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfMemberButNotCreator);\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;88eb2638-879e-4ca8-acfd-ff32d18ebe70&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of adding member to group - not group member cannot do it&quot;,&quot;fullTitle&quot;:&quot;Group member API POST: /groups/:groupId/members Error of adding member to group - not group member cannot do it&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const user = data.members[2]._id;\n            const res = yield Bootstrap_1.Agent().post(`/groups/${groupId}/members`)\n                .send({ user })\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfUserButNotMember);\n            res.should.have.status(404);\n            res.body.message.should.be.equal(\&quot;This group not found or not allowed for you\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;bf53d027-8962-4973-af25-5a6b6e1dfaf5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of adding member to group - user id does not get in body&quot;,&quot;fullTitle&quot;:&quot;Group member API POST: /groups/:groupId/members Error of adding member to group - user id does not get in body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().post(`/groups/${groupId}/members`)\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfUserButNotMember);\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;2313a384-5235-4a5f-b50a-53b9b853e95b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;afeb503f-dccc-4a46-9c8c-d8c94569afa2&quot;,&quot;aaae40f0-b9ce-497d-adaf-5ee2264ad93c&quot;,&quot;cb63910c-87aa-4113-aeb3-79c7f51823cb&quot;,&quot;88eb2638-879e-4ca8-acfd-ff32d18ebe70&quot;,&quot;bf53d027-8962-4973-af25-5a6b6e1dfaf5&quot;,&quot;2313a384-5235-4a5f-b50a-53b9b853e95b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:104,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;a91e224c-9bc8-4c58-9870-b33b3288c00b&quot;,&quot;title&quot;:&quot;PUT: /groups/:groupId/members/:userId&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Groups\\Member.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Groups\\Member.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful change role for member from group&quot;,&quot;fullTitle&quot;:&quot;Group member API PUT: /groups/:groupId/members/:userId Successful change role for member from group&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const userId = data.memberButNotCreator._id.toString();\n            const res = yield Bootstrap_1.Agent().put(`/groups/${groupId}/members/${userId}`)\n                .send({ role: \&quot;moderator\&quot; })\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfMemberAndCreator);\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;user\&quot;);\n            res.body.should.have.property(\&quot;role\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d741d581-2c9b-4695-a599-d95ac6b4a9ff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error changing role - only group&#x27;s creator can do it&quot;,&quot;fullTitle&quot;:&quot;Group member API PUT: /groups/:groupId/members/:userId Error changing role - only group&#x27;s creator can do it&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const userId = data.memberButNotCreator._id.toString();\n            const res = yield Bootstrap_1.Agent().put(`/groups/${groupId}/members/${userId}`)\n                .send({ role: \&quot;moderator\&quot; })\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfMemberButNotCreator);\n            res.should.have.status(403);\n            res.body.message.should.be.equal(\&quot;You cannot do it\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;32fe24e4-6524-423b-8a25-0c9347392236&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error changing role - user is not member&quot;,&quot;fullTitle&quot;:&quot;Group member API PUT: /groups/:groupId/members/:userId Error changing role - user is not member&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const userId = data.userButNotMember._id.toString();\n            const res = yield Bootstrap_1.Agent().put(`/groups/${groupId}/members/${userId}`)\n                .send({ role: \&quot;moderator\&quot; })\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfMemberAndCreator);\n            res.should.have.status(404);\n            res.body.message.should.be.equal(\&quot;This group not found or not allowed for you\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;656ca38d-8295-4473-8857-d07e0341ca13&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error changing role - wrong role&quot;,&quot;fullTitle&quot;:&quot;Group member API PUT: /groups/:groupId/members/:userId Error changing role - wrong role&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const userId = data.members[2]._id.toString();\n            const res = yield Bootstrap_1.Agent().put(`/groups/groupNotExist/members/${userId}`)\n                .send({ role: \&quot;wrongRole\&quot; })\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfMemberAndCreator);\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;02f6f0a6-60ea-4c51-a5f7-4e1a52c85a64&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error changing role - group is not id&quot;,&quot;fullTitle&quot;:&quot;Group member API PUT: /groups/:groupId/members/:userId Error changing role - group is not id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const userId = data.members[2]._id.toString();\n            const res = yield Bootstrap_1.Agent().put(`/groups/groupNotExist/members/${userId}`)\n                .send({ role: \&quot;moderator\&quot; })\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfMemberButNotCreator);\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;bfa2e4a0-faff-4801-86d1-b5714a4acfeb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d741d581-2c9b-4695-a599-d95ac6b4a9ff&quot;,&quot;32fe24e4-6524-423b-8a25-0c9347392236&quot;,&quot;656ca38d-8295-4473-8857-d07e0341ca13&quot;,&quot;02f6f0a6-60ea-4c51-a5f7-4e1a52c85a64&quot;,&quot;bfa2e4a0-faff-4801-86d1-b5714a4acfeb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:75,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;21c043a2-15ec-4ae6-93b0-970f774f6cfd&quot;,&quot;title&quot;:&quot;DELETE: /groups/:groupId/members/:userId&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Groups\\Member.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Groups\\Member.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful deleting member from group&quot;,&quot;fullTitle&quot;:&quot;Group member API DELETE: /groups/:groupId/members/:userId Successful deleting member from group&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const userId = data.members.pop()._id;\n            const res = yield Bootstrap_1.Agent().delete(`/groups/${groupId}/members/${userId}`)\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfMemberAndCreator);\n            res.should.have.status(200);\n            res.body.message.should.be.equal(\&quot;successfully\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9e8a2e06-47ad-4c36-884e-6c1a880b0c52&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Successful deleting user from group although user is not member&quot;,&quot;fullTitle&quot;:&quot;Group member API DELETE: /groups/:groupId/members/:userId Successful deleting user from group although user is not member&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const userId = data.userButNotMember._id;\n            const res = yield Bootstrap_1.Agent().delete(`/groups/${groupId}/members/${userId}`)\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfMemberAndCreator);\n            res.should.have.status(200);\n            res.body.message.should.be.equal(\&quot;successfully\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;aec5fa3a-443e-4d13-8d01-10ee1775b74f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of deleting user from group - only group&#x27;s creator can do it&quot;,&quot;fullTitle&quot;:&quot;Group member API DELETE: /groups/:groupId/members/:userId Error of deleting user from group - only group&#x27;s creator can do it&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const userId = data.userButNotMember._id;\n            const res = yield Bootstrap_1.Agent().delete(`/groups/${groupId}/members/${userId}`)\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfMemberButNotCreator);\n            res.should.have.status(403);\n            res.body.message.should.be.equal(\&quot;You cannot do it\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5fdaed3c-8cb6-41b3-837a-4b4481981a39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of deleting user from group - user is not member&quot;,&quot;fullTitle&quot;:&quot;Group member API DELETE: /groups/:groupId/members/:userId Error of deleting user from group - user is not member&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const userId = data.userButNotMember._id;\n            const res = yield Bootstrap_1.Agent().delete(`/groups/${groupId}/members/${userId}`)\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfUserButNotMember);\n            res.should.have.status(403);\n            res.body.message.should.be.equal(\&quot;You cannot do it\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5045ec2e-4937-46b7-aac8-209f000fa439&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of deleting user from group - group is not exist&quot;,&quot;fullTitle&quot;:&quot;Group member API DELETE: /groups/:groupId/members/:userId Error of deleting user from group - group is not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const userId = data.members[2]._id;\n            const res = yield Bootstrap_1.Agent().delete(`/groups/groupNotExist/members/${userId}`)\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfMemberButNotCreator);\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b655a11c-e8cf-40a4-8ae6-4ddb37d8d623&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9e8a2e06-47ad-4c36-884e-6c1a880b0c52&quot;,&quot;aec5fa3a-443e-4d13-8d01-10ee1775b74f&quot;,&quot;5fdaed3c-8cb6-41b3-837a-4b4481981a39&quot;,&quot;5045ec2e-4937-46b7-aac8-209f000fa439&quot;,&quot;b655a11c-e8cf-40a4-8ae6-4ddb37d8d623&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:68,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;ba462aba-2ffa-4737-b395-37e8037f6011&quot;,&quot;title&quot;:&quot;Group message API&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Groups\\Message.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Groups\\Message.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;f14a34fd-12c4-42b9-8934-bb894faca727&quot;,&quot;title&quot;:&quot;GET: /groups/:groupId/messages&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Groups\\Message.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Groups\\Message.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful getting messages&quot;,&quot;fullTitle&quot;:&quot;Group message API GET: /groups/:groupId/messages Successful getting messages&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:47,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/groups/${groupId}/messages`)\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfFirstPerson);\n            res.should.have.status(200);\n            res.body.offset.should.be.equal(0);\n            res.body.data.should.have.lengthOf(50);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6890ba65-5279-4ff3-a90c-855693992edf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Successful getting messages - use offset&quot;,&quot;fullTitle&quot;:&quot;Group message API GET: /groups/:groupId/messages Successful getting messages - use offset&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:29,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/groups/${groupId}/messages`)\n                .query({ offset: 70 })\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfFirstPerson);\n            res.should.have.status(200);\n            res.body.offset.should.be.equal(70);\n            res.body.data.should.have.lengthOf(30);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;26003091-141b-416a-8c59-4a54fd0bc05c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of getting messages - group is not exist&quot;,&quot;fullTitle&quot;:&quot;Group message API GET: /groups/:groupId/messages Error of getting messages - group is not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/groups/groupIsNotExist/messages`)\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfFirstPerson);\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;45553779-a86f-4b59-9996-92c09c5f2b02&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6890ba65-5279-4ff3-a90c-855693992edf&quot;,&quot;26003091-141b-416a-8c59-4a54fd0bc05c&quot;,&quot;45553779-a86f-4b59-9996-92c09c5f2b02&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:85,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;84797c77-2140-44bc-ae07-43a5b7708d9d&quot;,&quot;title&quot;:&quot;GET: /groups/:groupId/messages/:messageId&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Groups\\Message.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Groups\\Message.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful getting one message by id&quot;,&quot;fullTitle&quot;:&quot;Group message API GET: /groups/:groupId/messages/:messageId Successful getting one message by id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const messageId = data.messages[1]._id.toString();\n            const res = yield Bootstrap_1.Agent().get(`/groups/${groupId}/messages/${messageId}`)\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfFirstPerson);\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;sender\&quot;);\n            res.body.should.have.property(\&quot;group\&quot;);\n            res.body.should.have.property(\&quot;text\&quot;);\n            res.body.should.have.property(\&quot;sent_at\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b3587030-22f4-4ae7-9b8e-5680ffdb0583&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of getting message by id - group is not exist&quot;,&quot;fullTitle&quot;:&quot;Group message API GET: /groups/:groupId/messages/:messageId Error of getting message by id - group is not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const messageId = data.messages[1]._id.toString();\n            const res = yield Bootstrap_1.Agent().get(`/groups/groupIsNotExist/messages/${messageId}`)\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfFirstPerson);\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;25dd674e-ab10-4830-901d-1be0d84cec13&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of getting message by id - get wrong id of message&quot;,&quot;fullTitle&quot;:&quot;Group message API GET: /groups/:groupId/messages/:messageId Error of getting message by id - get wrong id of message&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/groups/${groupId}/messages/messageNotExist`)\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfFirstPerson);\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;21c6c7dd-70b8-420e-929b-224a10a27c0a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of getting message by id - message does not belong this group&quot;,&quot;fullTitle&quot;:&quot;Group message API GET: /groups/:groupId/messages/:messageId Error of getting message by id - message does not belong this group&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const messageId = data.outherMessages[0]._id;\n            const res = yield Bootstrap_1.Agent().get(`/groups/${groupId}/messages/${messageId}`)\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfFirstPerson);\n            res.should.have.status(404);\n            res.body.message.should.be.equal(\&quot;Not Found\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ee09c487-83b0-45bf-99b3-aafc0a907039&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b3587030-22f4-4ae7-9b8e-5680ffdb0583&quot;,&quot;25dd674e-ab10-4830-901d-1be0d84cec13&quot;,&quot;21c6c7dd-70b8-420e-929b-224a10a27c0a&quot;,&quot;ee09c487-83b0-45bf-99b3-aafc0a907039&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:39,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;5d741d2b-cff8-4110-acb7-aa5b011f7ad1&quot;,&quot;title&quot;:&quot;POST: /groups/:groupId/messages&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Groups\\Message.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Groups\\Message.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful sending message&quot;,&quot;fullTitle&quot;:&quot;Group message API POST: /groups/:groupId/messages Successful sending message&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const messageText = \&quot;This is awesome message\&quot;;\n            const res = yield Bootstrap_1.Agent().post(`/groups/${groupId}/messages`)\n                .send({ text: messageText })\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfFirstPerson);\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;id\&quot;);\n            res.body.should.have.property(\&quot;sender\&quot;);\n            res.body.should.have.property(\&quot;group\&quot;);\n            res.body.should.have.property(\&quot;text\&quot;);\n            res.body.text.should.be.equal(messageText);\n            res.body.should.have.property(\&quot;sent_at\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0914623f-a6aa-41b2-94d4-18d20c7d31b5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of sending message - group is not exist&quot;,&quot;fullTitle&quot;:&quot;Group message API POST: /groups/:groupId/messages Error of sending message - group is not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const messageText = \&quot;This is awesome message\&quot;;\n            const res = yield Bootstrap_1.Agent().post(`/groups/groupIsNotExist/messages`)\n                .send({ text: messageText })\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfFirstPerson);\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;eb3da0e9-6184-4bf0-8a6b-95e38c487635&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of sending message - text does not get in body&quot;,&quot;fullTitle&quot;:&quot;Group message API POST: /groups/:groupId/messages Error of sending message - text does not get in body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().post(`/groups/${groupId}/messages`)\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfFirstPerson);\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f47c2a47-a0bc-4d74-b761-289ec3db0743&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0914623f-a6aa-41b2-94d4-18d20c7d31b5&quot;,&quot;eb3da0e9-6184-4bf0-8a6b-95e38c487635&quot;,&quot;f47c2a47-a0bc-4d74-b761-289ec3db0743&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:28,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;4a8c744f-97db-42a3-a847-3c7837ebb717&quot;,&quot;title&quot;:&quot;User message API&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Users\\Message.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Users\\Message.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;35243ce6-e5c4-4a94-843f-54bf92fbb249&quot;,&quot;title&quot;:&quot;GET: /users/:userId/messages&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Users\\Message.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Users\\Message.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful getting conversation between users&quot;,&quot;fullTitle&quot;:&quot;User message API GET: /users/:userId/messages Successful getting conversation between users&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:39,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/users/${secondPersonId}/messages`)\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfFirstPerson);\n            res.should.have.status(200);\n            res.body.offset.should.be.equal(0);\n            res.body.data.should.have.lengthOf(50);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4f912bf4-1d19-4ff8-9b59-2586d633b425&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Successful getting conversation between users - it&#x27;s empty&quot;,&quot;fullTitle&quot;:&quot;User message API GET: /users/:userId/messages Successful getting conversation between users - it&#x27;s empty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/users/${data.anoutherPerson._id}/messages`)\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfFirstPerson);\n            res.should.have.status(200);\n            res.body.offset.should.be.equal(0);\n            res.body.data.should.have.lengthOf(0);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;89ae3260-dd57-417e-a865-820ec425e01c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Successful getting conversation between users - use offset&quot;,&quot;fullTitle&quot;:&quot;User message API GET: /users/:userId/messages Successful getting conversation between users - use offset&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/users/${secondPersonId}/messages`)\n                .query({ offset: 70 })\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfFirstPerson);\n            res.should.have.status(200);\n            res.body.offset.should.be.equal(70);\n            res.body.data.should.have.lengthOf(30);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;35d88418-7a35-4a10-a84e-8017cddb7b4f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of getting conversation between user - user is not exist&quot;,&quot;fullTitle&quot;:&quot;User message API GET: /users/:userId/messages Error of getting conversation between user - user is not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/users/userIsNotExist/messages`)\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfFirstPerson);\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7618d86d-ef18-4e13-b0e7-c13464efb57b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4f912bf4-1d19-4ff8-9b59-2586d633b425&quot;,&quot;89ae3260-dd57-417e-a865-820ec425e01c&quot;,&quot;35d88418-7a35-4a10-a84e-8017cddb7b4f&quot;,&quot;7618d86d-ef18-4e13-b0e7-c13464efb57b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:81,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;67b3c35e-21b2-4317-ab74-8488c788acfd&quot;,&quot;title&quot;:&quot;GET: /users/:userId/messages/:messageId&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Users\\Message.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Users\\Message.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful getting one message by id&quot;,&quot;fullTitle&quot;:&quot;User message API GET: /users/:userId/messages/:messageId Successful getting one message by id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const messageId = data.messages[1]._id.toString();\n            const res = yield Bootstrap_1.Agent().get(`/users/${secondPersonId}/messages/${messageId}`)\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfFirstPerson);\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;sender\&quot;);\n            res.body.should.have.property(\&quot;recipient\&quot;);\n            res.body.should.have.property(\&quot;text\&quot;);\n            res.body.should.have.property(\&quot;sent_at\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;526b90ca-4a86-4c17-8587-9dcbd5420ee3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of getting message by id - user is not exist&quot;,&quot;fullTitle&quot;:&quot;User message API GET: /users/:userId/messages/:messageId Error of getting message by id - user is not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const messageId = data.messages[1]._id.toString();\n            const res = yield Bootstrap_1.Agent().get(`/users/userIsNotExist/messages/${messageId}`)\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfFirstPerson);\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f7bda8e1-3ddb-41f1-b849-c437a15136f0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of getting message by id - get wrong id of message&quot;,&quot;fullTitle&quot;:&quot;User message API GET: /users/:userId/messages/:messageId Error of getting message by id - get wrong id of message&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/users/${secondPersonId}/messages/messageNotExist`)\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfFirstPerson);\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;47214835-ff6e-4b17-8c79-e49a0637dac7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of getting message by id - message does not belong conversation of these users&quot;,&quot;fullTitle&quot;:&quot;User message API GET: /users/:userId/messages/:messageId Error of getting message by id - message does not belong conversation of these users&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const messageId = data.outherMessages[0]._id;\n            const res = yield Bootstrap_1.Agent().get(`/users/${secondPersonId}/messages/${messageId}`)\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfFirstPerson);\n            res.should.have.status(404);\n            res.body.message.should.be.equal(\&quot;Not Found\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;77b337bd-4df6-402a-b1dc-b6193c632cf6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;526b90ca-4a86-4c17-8587-9dcbd5420ee3&quot;,&quot;f7bda8e1-3ddb-41f1-b849-c437a15136f0&quot;,&quot;47214835-ff6e-4b17-8c79-e49a0637dac7&quot;,&quot;77b337bd-4df6-402a-b1dc-b6193c632cf6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:44,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;6be2b54a-7a7b-4e81-8f3c-fe67f66c3182&quot;,&quot;title&quot;:&quot;POST: /users/:userId/messages&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Users\\Message.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Users\\Message.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful sending message to user&quot;,&quot;fullTitle&quot;:&quot;User message API POST: /users/:userId/messages Successful sending message to user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const messageText = \&quot;This is awesome message\&quot;;\n            const res = yield Bootstrap_1.Agent().post(`/users/${secondPersonId}/messages`)\n                .send({ text: messageText })\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfFirstPerson);\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;id\&quot;);\n            res.body.should.have.property(\&quot;sender\&quot;);\n            res.body.should.have.property(\&quot;recipient\&quot;);\n            res.body.should.have.property(\&quot;text\&quot;);\n            res.body.text.should.be.equal(messageText);\n            res.body.should.have.property(\&quot;sent_at\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6c502403-87fd-4215-89c6-0ec6a0707c60&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of sending message to user - user is not exist&quot;,&quot;fullTitle&quot;:&quot;User message API POST: /users/:userId/messages Error of sending message to user - user is not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const messageText = \&quot;This is awesome message\&quot;;\n            const res = yield Bootstrap_1.Agent().post(`/users/userIsNotExist/messages`)\n                .send({ text: messageText })\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfFirstPerson);\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0f47352a-4e88-475a-b83a-587fcd56362a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of sending message to user - text does not get in body&quot;,&quot;fullTitle&quot;:&quot;User message API POST: /users/:userId/messages Error of sending message to user - text does not get in body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().post(`/users/${secondPersonId}/messages`)\n                .set(\&quot;Authorization\&quot;, \&quot;Bearer \&quot; + authTokenOfFirstPerson);\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;42a840f4-4daa-48e6-8fc2-d66949db6147&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6c502403-87fd-4215-89c6-0ec6a0707c60&quot;,&quot;0f47352a-4e88-475a-b83a-587fcd56362a&quot;,&quot;42a840f4-4daa-48e6-8fc2-d66949db6147&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:27,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;f0db0595-1cfb-4a43-9b07-54733e55e04c&quot;,&quot;title&quot;:&quot;User get API&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Users\\User.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Users\\User.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e708d94d-f5b9-4334-9b9c-e5b86a699da7&quot;,&quot;title&quot;:&quot;GET /users/:userId&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Users\\User.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Users\\User.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful getting user profile&quot;,&quot;fullTitle&quot;:&quot;User get API GET /users/:userId Successful getting user profile&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/users/${firstPersonId}`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfFirstPerson}`);\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;id\&quot;);\n            res.body.should.have.property(\&quot;username\&quot;);\n            res.body.should.have.property(\&quot;fullname\&quot;);\n            res.body.should.have.property(\&quot;last_seen\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;eacd7245-8b5e-469e-bd83-94acafa470de&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Successful getting user profile by token of another one&quot;,&quot;fullTitle&quot;:&quot;User get API GET /users/:userId Successful getting user profile by token of another one&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/users/${firstPersonId}`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfSecondPerson}`);\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;id\&quot;);\n            res.body.should.have.property(\&quot;username\&quot;);\n            res.body.should.have.property(\&quot;fullname\&quot;);\n            res.body.should.have.property(\&quot;last_seen\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;28d93243-7012-4bb1-a62d-e910b44e940c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of getting user - user is not exist&quot;,&quot;fullTitle&quot;:&quot;User get API GET /users/:userId Error of getting user - user is not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(\&quot;/users/userIsNotExist\&quot;)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfFirstPerson}`);\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;610c7439-4cd2-40e7-b30d-ff34bfa339b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;eacd7245-8b5e-469e-bd83-94acafa470de&quot;,&quot;28d93243-7012-4bb1-a62d-e910b44e940c&quot;,&quot;610c7439-4cd2-40e7-b30d-ff34bfa339b4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:30,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;4017ce14-e9f0-4000-b7dd-48f9d8a69fcd&quot;,&quot;title&quot;:&quot;GET /users?email=&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\api\\Users\\User.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\api\\Users\\User.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Successful getting user account&quot;,&quot;fullTitle&quot;:&quot;User get API GET /users?email= Successful getting user account&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/users?email=${firstPersonEmail}`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfFirstPerson}`);\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;id\&quot;);\n            res.body.should.have.property(\&quot;username\&quot;);\n            res.body.should.have.property(\&quot;fullname\&quot;);\n            res.body.should.have.property(\&quot;last_seen\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3e8998e0-cebe-447d-99e0-ca86e8d064a5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Successful getting user profile by token of another one&quot;,&quot;fullTitle&quot;:&quot;User get API GET /users?email= Successful getting user profile by token of another one&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(`/users?email=${firstPersonEmail}`)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfSecondPerson}`);\n            res.should.have.status(200);\n            res.body.should.have.property(\&quot;id\&quot;);\n            res.body.should.have.property(\&quot;username\&quot;);\n            res.body.should.have.property(\&quot;fullname\&quot;);\n            res.body.should.have.property(\&quot;last_seen\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;85d4cfc0-ebdd-46c1-adfa-1e990d2a3864&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Error of getting user - user is not exist&quot;,&quot;fullTitle&quot;:&quot;User get API GET /users?email= Error of getting user - user is not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const res = yield Bootstrap_1.Agent().get(\&quot;/users?email=userIsNotExist\&quot;)\n                .set(\&quot;Authorization\&quot;, `Bearer ${authTokenOfFirstPerson}`);\n            res.should.have.status(400);\n            res.body.message.should.be.equal(\&quot;Validation error\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8debde20-4990-4b20-80e8-3a059c0d9150&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3e8998e0-cebe-447d-99e0-ca86e8d064a5&quot;,&quot;85d4cfc0-ebdd-46c1-adfa-1e990d2a3864&quot;,&quot;8debde20-4990-4b20-80e8-3a059c0d9150&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:31,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;d71fbbc2-16ee-4364-990c-cd4c57a5cea7&quot;,&quot;title&quot;:&quot;Application&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\unit\\src\\Core\\Application.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\unit\\src\\Core\\Application.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b53648e2-3c9d-4344-9b43-95ca5c44a719&quot;,&quot;title&quot;:&quot;Unique String getter&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\unit\\src\\Core\\Application.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\unit\\src\\Core\\Application.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return random string every call&quot;,&quot;fullTitle&quot;:&quot;Application Unique String getter should return random string every call&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const application = new Application_1.default();\n            const uniqueStrings = [];\n            for (let i = 0; i &lt; 7; i++) {\n                uniqueStrings.push(application.getUniqueString());\n            }\n            allMembersOfArrayAreUnique(uniqueStrings);\n            // console.log(uniqueStrings);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;beab5fc1-ff06-4dae-ad71-42166b3e90c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return random string every call for different instances&quot;,&quot;fullTitle&quot;:&quot;Application Unique String getter should return random string every call for different instances&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const uniqueStrings = [];\n            for (let i = 0; i &lt; 7; i++) {\n                const application = new Application_1.default();\n                uniqueStrings.push(application.getUniqueString());\n            }\n            allMembersOfArrayAreUnique(uniqueStrings);\n            // console.log(uniqueStrings);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3245d738-f1b0-4eee-910d-213fa5ebbca3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;beab5fc1-ff06-4dae-ad71-42166b3e90c2&quot;,&quot;3245d738-f1b0-4eee-910d-213fa5ebbca3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;55b2cbc2-b3a4-45ad-9efb-8185c5a19199&quot;,&quot;title&quot;:&quot;Application Config&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\unit\\src\\Core\\ApplicationConfig.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\unit\\src\\Core\\ApplicationConfig.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should set and get params in dot notation&quot;,&quot;fullTitle&quot;:&quot;Application Config should set and get params in dot notation&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const config = new ApplicationConfig_1.default();\nconst value = \&quot;this is a visual way\&quot;;\nconfig.set(\&quot;set.param.in.dot.notation\&quot;, value);\nconfig.get(\&quot;set.param.in.dot.notation\&quot;).should.be.equal(value);\nconfig.get(\&quot;set.param\&quot;).should.be.an(\&quot;object\&quot;).which.has.property(\&quot;in\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;74e4084e-d98d-4ade-a15b-79144c7bcc2f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should get undefined for not existing paths if default value not passed&quot;,&quot;fullTitle&quot;:&quot;Application Config should get undefined for not existing paths if default value not passed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const config = new ApplicationConfig_1.default();\nchai_1.expect(config.get(\&quot;this.path.not.exist\&quot;)).to.be.undefined;&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f959d54c-0da8-43f6-aa93-0ae88c9f5ef3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should get default value for not existing paths&quot;,&quot;fullTitle&quot;:&quot;Application Config should get default value for not existing paths&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const config = new ApplicationConfig_1.default();\nconfig.get(\&quot;this.path.not.exist\&quot;, \&quot;default value\&quot;).should.be.equal(\&quot;default value\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1ced1c0e-ec85-4879-bbc8-b8736ddab572&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should load params from file and save they to object by file name&quot;,&quot;fullTitle&quot;:&quot;Application Config should load params from file and save they to object by file name&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:622,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        const config = new ApplicationConfig_1.default();\n        yield config.loadFromFile(__dirname + \&quot;/_testedconfig.js\&quot;);\n        config.get(\&quot;_testedconfig.secret\&quot;).should.be.equal(\&quot;test value\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3f6c56fd-f423-4375-9289-58315bffbf66&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should delete params&quot;,&quot;fullTitle&quot;:&quot;Application Config should delete params&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        const config = new ApplicationConfig_1.default();\n        config.set(\&quot;test\&quot;, \&quot;secret.value\&quot;);\n        config.get(\&quot;test\&quot;).should.be.equal(\&quot;secret.value\&quot;);\n        config.delete(\&quot;test\&quot;);\n        chai_1.expect(config.get(\&quot;test\&quot;)).to.be.undefined;\n    })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d54d0b71-4b93-4d27-b6aa-5b16d13ef8ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return existence of param&quot;,&quot;fullTitle&quot;:&quot;Application Config should return existence of param&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        const config = new ApplicationConfig_1.default();\n        config.has(\&quot;test\&quot;).should.be.false;\n        config.set(\&quot;test\&quot;, true);\n        config.has(\&quot;test\&quot;).should.be.true;\n    })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7c57b0ab-229e-4754-b69a-5e967ed969cc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;74e4084e-d98d-4ade-a15b-79144c7bcc2f&quot;,&quot;f959d54c-0da8-43f6-aa93-0ae88c9f5ef3&quot;,&quot;1ced1c0e-ec85-4879-bbc8-b8736ddab572&quot;,&quot;3f6c56fd-f423-4375-9289-58315bffbf66&quot;,&quot;d54d0b71-4b93-4d27-b6aa-5b16d13ef8ec&quot;,&quot;7c57b0ab-229e-4754-b69a-5e967ed969cc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:622,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;299e06df-c525-4be1-9399-6412be60a1ea&quot;,&quot;title&quot;:&quot;Event Routing - Route&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\unit\\src\\Core\\EventRouter\\Route.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\unit\\src\\Core\\EventRouter\\Route.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should identify right type of payload. We can pass just function&quot;,&quot;fullTitle&quot;:&quot;Event Routing - Route should identify right type of payload. We can pass just function&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const callback = sinon_1.default.spy();\nconst routeGroupMock = sinon_1.default.createStubInstance(RouteGroup_1.default);\nconst route = new Route_1.default(routeGroupMock, \&quot;myHandler\&quot;, \&quot;myTestRoute\&quot;, callback);\nroute.type.should.be.equal(Route_1.TypeOfPayload.CALLBACK);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c958e94e-99a2-4d1b-8281-cab2ddaf65c9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should identify right type of payload. We can pass string \&quot;ClassName@methodName\&quot; and it will be recognized as JS-class&quot;,&quot;fullTitle&quot;:&quot;Event Routing - Route should identify right type of payload. We can pass string \&quot;ClassName@methodName\&quot; and it will be recognized as JS-class&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const callback = sinon_1.default.spy();\nconst routeGroupMock = sinon_1.default.createStubInstance(RouteGroup_1.default);\nconst route = new Route_1.default(routeGroupMock, \&quot;myHandler\&quot;, \&quot;myTestRoute\&quot;, \&quot;ClassName@methodName\&quot;);\nroute.type.should.be.equal(Route_1.TypeOfPayload.CONTROLLER);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c01c876b-46c1-4803-a63a-d36d6bab6c9c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should identify right type of payload. We can pass just function without a route name&quot;,&quot;fullTitle&quot;:&quot;Event Routing - Route should identify right type of payload. We can pass just function without a route name&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const callback = sinon_1.default.spy();\nconst routeGroupMock = sinon_1.default.createStubInstance(RouteGroup_1.default);\nconst route = new Route_1.default(routeGroupMock, \&quot;myHandler\&quot;, callback);\nroute.type.should.be.equal(Route_1.TypeOfPayload.CALLBACK);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;2441b503-b325-4f30-96f5-6f219eb78e03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should identify right type of payload. We can pass string \&quot;ClassName@methodName\&quot; without a route name&quot;,&quot;fullTitle&quot;:&quot;Event Routing - Route should identify right type of payload. We can pass string \&quot;ClassName@methodName\&quot; without a route name&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const callback = sinon_1.default.spy();\nconst routeGroupMock = sinon_1.default.createStubInstance(RouteGroup_1.default);\nconst route = new Route_1.default(routeGroupMock, \&quot;myHandler\&quot;, \&quot;ClassName@methodName\&quot;);\nroute.type.should.be.equal(Route_1.TypeOfPayload.CONTROLLER);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;80de13bc-1f6d-4d5a-ad18-a68c2bda8f74&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return name based on prefix of his event group&quot;,&quot;fullTitle&quot;:&quot;Event Routing - Route should return name based on prefix of his event group&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const prefix = \&quot;prefix:\&quot;;\nconst callback = sinon_1.default.spy();\nconst routeGroupMock = sinon_1.default.createStubInstance(RouteGroup_1.default);\nconst route = new Route_1.default(routeGroupMock, \&quot;myHandler\&quot;, \&quot;ClassName@methodName\&quot;);\nrouteGroupMock.getPrefix.returns(\&quot;\&quot;);\nconst nameWithoutPrefix = route.getName();\nrouteGroupMock.getPrefix.returns(prefix);\nroute.getName().should.be.equal(prefix + nameWithoutPrefix);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6bab7157-c415-42d4-855c-93aff207b2f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;708319f7-906b-4272-aec5-1a5986721b98&quot;,&quot;title&quot;:&quot;Route applying&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\unit\\src\\Core\\EventRouter\\Route.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\unit\\src\\Core\\EventRouter\\Route.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should call its handler with it route payload&quot;,&quot;fullTitle&quot;:&quot;Event Routing - Route Route applying should call its handler with it route payload&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const callback = sinon_1.default.spy();\nconst handler = sinon_1.default.spy();\nconst routeGroupMock = sinon_1.default.createStubInstance(RouteGroup_1.default);\nconst route = new Route_1.default(routeGroupMock, \&quot;myHandler\&quot;, \&quot;myTestRoute\&quot;, callback);\nroute.apply(handler);\nhandler.calledWithExactly(route.getName(), callback, \&quot;myHandler\&quot;).should.be.true;&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d7332c0a-2cbe-4c77-a7cb-f414d3d9ece8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should apply route payload to its handler only once&quot;,&quot;fullTitle&quot;:&quot;Event Routing - Route Route applying should apply route payload to its handler only once&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const callback = sinon_1.default.spy();\nconst handler = sinon_1.default.spy();\nconst routeGroupMock = sinon_1.default.createStubInstance(RouteGroup_1.default);\nconst route = new Route_1.default(routeGroupMock, \&quot;myHandler\&quot;, \&quot;myTestRoute\&quot;, callback);\nroute.apply(handler);\nroute.apply(handler);\nhandler.calledOnce.should.be.true;&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;896175fd-27ce-4933-ac48-9a1af46c71b2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d7332c0a-2cbe-4c77-a7cb-f414d3d9ece8&quot;,&quot;896175fd-27ce-4933-ac48-9a1af46c71b2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000}],&quot;passes&quot;:[&quot;c958e94e-99a2-4d1b-8281-cab2ddaf65c9&quot;,&quot;c01c876b-46c1-4803-a63a-d36d6bab6c9c&quot;,&quot;2441b503-b325-4f30-96f5-6f219eb78e03&quot;,&quot;80de13bc-1f6d-4d5a-ad18-a68c2bda8f74&quot;,&quot;6bab7157-c415-42d4-855c-93aff207b2f8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;5c1a1ced-e704-46f6-93e9-13e02a26ac31&quot;,&quot;title&quot;:&quot;Application Lifecycle&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\unit\\src\\Core\\Lifecycle.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\unit\\src\\Core\\Lifecycle.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return correct statuses in each state&quot;,&quot;fullTitle&quot;:&quot;Application Lifecycle should return correct statuses in each state&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        const lifecycle = new Lifecycle_1.default(false);\n        lifecycle.getStatus().should.be.equal(Lifecycle_1.Status.NOT_INIT);\n        yield lifecycle.init();\n        lifecycle.getStatus().should.be.equal(Lifecycle_1.Status.WORKING);\n        yield lifecycle.destroy();\n        lifecycle.getStatus().should.be.equal(Lifecycle_1.Status.DESTROYED);\n    })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f5a3e339-7d1a-4b35-b2b9-bcc98bd4086f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;735e7c4b-da01-4750-97da-764bf29cd085&quot;,&quot;title&quot;:&quot;Handler setter (on)&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\unit\\src\\Core\\Lifecycle.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\unit\\src\\Core\\Lifecycle.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not call handlers right after they adding&quot;,&quot;fullTitle&quot;:&quot;Application Lifecycle Handler setter (on) should not call handlers right after they adding&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const lifecycle = new Lifecycle_1.default(false);\nconst callback = sinon_1.default.spy();\nlifecycle.on(\&quot;beforeInit\&quot;, callback);\ncallback.notCalled.should.be.true;&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9d76147d-0b68-4145-9c87-63a55da575d2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow adding handler by alias&quot;,&quot;fullTitle&quot;:&quot;Application Lifecycle Handler setter (on) should allow adding handler by alias&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const lifecycle = new Lifecycle_1.default(false);\n            const callback = sinon_1.default.spy();\n            lifecycle.on(\&quot;beforeStart\&quot;, callback);\n            callback.notCalled.should.be.true;\n            yield lifecycle.init();\n            callback.called.should.be.true;\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;bc7a65a2-4560-464c-bd9b-f9f20d0bbafb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow to pass object as an event handler&quot;,&quot;fullTitle&quot;:&quot;Application Lifecycle Handler setter (on) should allow to pass object as an event handler&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const lifecycle = new Lifecycle_1.default(false);\n            const object = {\n                beforeInit: sinon_1.default.spy(),\n                otherMethod: sinon_1.default.spy(),\n            };\n            lifecycle.on(object);\n            object.beforeInit.notCalled.should.be.true;\n            object.otherMethod.notCalled.should.be.true;\n            yield lifecycle.init();\n            object.beforeInit.called.should.be.true;\n            object.otherMethod.notCalled.should.be.true;\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;95c465eb-7201-41a7-8341-def6ab10e7b7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should ignore if passed only string to first argument&quot;,&quot;fullTitle&quot;:&quot;Application Lifecycle Handler setter (on) should ignore if passed only string to first argument&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const lifecycle = new Lifecycle_1.default(false);\n            lifecycle.on(\&quot;beforeStart\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5c05d888-9289-4cbf-8888-6feb1f2f0714&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9d76147d-0b68-4145-9c87-63a55da575d2&quot;,&quot;bc7a65a2-4560-464c-bd9b-f9f20d0bbafb&quot;,&quot;95c465eb-7201-41a7-8341-def6ab10e7b7&quot;,&quot;5c05d888-9289-4cbf-8888-6feb1f2f0714&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000},{&quot;uuid&quot;:&quot;c439152e-ebe7-48f3-bdba-47539865787d&quot;,&quot;title&quot;:&quot;Lifecycle emitter&quot;,&quot;fullFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\test\\unit\\src\\Core\\Lifecycle.spec.ts&quot;,&quot;file&quot;:&quot;\\test\\unit\\src\\Core\\Lifecycle.spec.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should call handlers on Lifecycle-events&quot;,&quot;fullTitle&quot;:&quot;Application Lifecycle Lifecycle emitter should call handlers on Lifecycle-events&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const lifecycle = new Lifecycle_1.default(false);\n            const beforeInitCallback = sinon_1.default.spy();\n            const initCallback = sinon_1.default.spy();\n            const afterInitCallback = sinon_1.default.spy();\n            const beforeDestroyCallback = sinon_1.default.spy();\n            const destroyedCallback = sinon_1.default.spy();\n            lifecycle.on(\&quot;beforeInit\&quot;, beforeInitCallback);\n            lifecycle.on(\&quot;init\&quot;, initCallback);\n            lifecycle.on(\&quot;afterInit\&quot;, afterInitCallback);\n            lifecycle.on(\&quot;beforeDestroy\&quot;, beforeDestroyCallback);\n            lifecycle.on(\&quot;destroyed\&quot;, destroyedCallback);\n            yield lifecycle.init();\n            beforeInitCallback.called.should.be.true;\n            initCallback.calledAfter(beforeInitCallback).should.be.true;\n            afterInitCallback.calledAfter(initCallback).should.be.true;\n            beforeDestroyCallback.notCalled.should.be.true;\n            yield lifecycle.destroy();\n            beforeDestroyCallback.called.should.be.true;\n            destroyedCallback.calledAfter(beforeDestroyCallback).should.be.true;\n            initCallback.calledOnce.should.be.true;\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;10422d37-ed08-492b-984d-64e076deddf6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should call methods of passed object which have named as Lifecycle-events &quot;,&quot;fullTitle&quot;:&quot;Application Lifecycle Lifecycle emitter should call methods of passed object which have named as Lifecycle-events &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const lifecycle = new Lifecycle_1.default(false);\n            const object = {\n                beforeInit: sinon_1.default.spy(),\n                init: sinon_1.default.spy(),\n                afterInit: sinon_1.default.spy(),\n                beforeDestroy: sinon_1.default.spy(),\n                destroyed: sinon_1.default.spy(),\n            };\n            lifecycle.on(object);\n            yield lifecycle.init();\n            object.beforeInit.called.should.be.true;\n            object.init.calledAfter(object.beforeInit).should.be.true;\n            object.afterInit.calledAfter(object.init).should.be.true;\n            object.beforeDestroy.notCalled.should.be.true;\n            yield lifecycle.destroy();\n            object.beforeDestroy.called.should.be.true;\n            object.destroyed.calledAfter(object.beforeDestroy).should.be.true;\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b8159eb0-0d08-4508-9d9e-4e70ab872dd2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should catch exceptions&quot;,&quot;fullTitle&quot;:&quot;Application Lifecycle Lifecycle emitter should catch exceptions&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const lifecycle = new Lifecycle_1.default(false);\n            const beforeInitCallback = sinon_1.default.stub().throws();\n            lifecycle.on(\&quot;beforeInit\&quot;, beforeInitCallback);\n            yield lifecycle.init();\n            lifecycle.getStatus().should.be.equal(Lifecycle_1.Status.ERROR);\n        })&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f50d7b88-d77d-4e42-880d-8840e1779f00&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;10422d37-ed08-492b-984d-64e076deddf6&quot;,&quot;b8159eb0-0d08-4508-9d9e-4e70ab872dd2&quot;,&quot;f50d7b88-d77d-4e42-880d-8840e1779f00&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000}],&quot;passes&quot;:[&quot;f5a3e339-7d1a-4b35-b2b9-bcc98bd4086f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:200000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:200000},&quot;copyrightYear&quot;:2019}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;messenger-backend&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:true,&quot;enableCharts&quot;:true,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\mochawesome-report\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;d:\\Project\\NJSPROJECTS\\messenger-backend\\mochawesome-report\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>